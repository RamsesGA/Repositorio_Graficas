////////////////////////////////////////////////////////////////////////////////
// Filename: Lum.ps
////////////////////////////////////////////////////////////////////////////////
#version 400


/////////////////////
// INPUT VARIABLES //
/////////////////////
in vec2 TexCoord;


//////////////////////
// OUTPUT VARIABLES //
//////////////////////
layout(location = 0) out vec4 AB;


///////////////////////
// UNIFORM VARIABLES //
///////////////////////
uniform sampler2D Bri;
uniform sampler2D BH;
uniform sampler2D BV;

int ML;


////////////////////////////////////////////////////////////////////////////////
// Shader Functions
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
// Pixel Shader
////////////////////////////////////////////////////////////////////////////////
void main()
{
	AB = 0.7f * (((textureLod(BH, TexCoord, ML) + textureLod(BV, TexCoord, ML))) + texelFetch(Bri, ivec2(gl_FragCoord.xy), 0));
}